<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Фарма</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>


	<header class="header">
        <div class="container">
            <div class="breadcrumb">
                <span class="logo"><a href="#">«Технологии холодовой цепи»</a></span>
                <span class="place">Личный кабинет</span>
            </div>
            <form>
                <span class="input-wrap"><button><img src="img/search-ico.png" alt=""></button><input type="text" name="" placeholder="Поиск по imei или элементам адреса объекта"></span>
            </form>
            <div class="user">
                <div class="user-det">
                    <p class="user-name">Вячеслав Трощин</p>
                    <p class="user-status">Супер-администратор</p>
                </div>
                <span class="user-config"><a href="#"><img src="img/config-ico.png" alt=""></a></span>
                <span class="user-logout"><a href="#"><img src="img/logout.png" alt="" title="Выход" data-toggle="modal" data-target="#logoutModal"></a></span>
            </div>
        </div>
    </header>
	

	<section class="content">
		<div class="container">
			<aside class="sidebar">
				<ul class="companies side-list">
					<li class="active">
						<span class="comp-name">ТОО «Фармагрупп»</span>
						<span class="comp-id">IMEI: 123456789012345</span>
						<span class="comp-tel">+7 (495) 611 3544</span>
						<span class="comp-status online">Online</span>
					</li>
					<li>
						<span class="comp-name">ТОО «Фармаролл»</span>
						<span class="comp-id">IMEI: 123456789012345</span>
						<span class="comp-tel">+7 (495) 333 2233</span>
						<span class="comp-status online">Online</span>
					</li>
					<li>
						<span class="comp-name">ОАО «Фармарин»</span>
						<span class="comp-id">IMEI: 123456789012345</span>
						<span class="comp-tel">+7 (495) 999 1490</span>
						<span class="comp-status offline">Offline</span>
					</li>
				</ul>
			</aside>
			<div class="prime-content">
                <p class="h2-top">Настройка датчика</p>
                <div class="table-wrapper">
					<p class="page-header">РФ, Омская обл., г. Омск, пр. Мира 2 (Сортировочный центр)</p>
                    <ul class="content-breadcrumb">
                        <li><a href="#">Датчики системы</a></li>
                        <li>Сухой склад - приёмка</li>
                    </ul>
                    <div class="graph-top">
                        <div class="left-bar">
                            <div class="dashboard-item item-fine">
                                <input type="text" class="item-top" placeholder="Введите имя датчика">
                                <div class="item-info">
                                    <p class="status online">На связи 3 д. 14 ч. 29 мин.</p>
                                    <p class="temperature">23,1 <b>&deg;C</b></p>
                                    <p>
                                        <span class="condition fine">В норме</span>
                                        <span class="last-info">(5 минут назад)</span>
                                    </p>
                                </div>
                            </div>

                        </div>
                        <div class="sensor-wrapper">
                            <div class="change-profile prime-form fix-height">
                                <label class="select-profile">
                                    <select>
                                        <option>Профиль 1</option>
                                        <option>Профиль 2</option>
                                        <option>Профиль 3</option>
                                        <option>Профиль 4</option>
                                        <option>Профиль 5</option>
                                        <option>Профиль 6</option>
                                        
                                    </select>
                                </label>
                                <button class="btn-blue">Применить профиль</button>
                            </div>
                            <div class="sensor-row">
                                <div class="row-top">
                                    <p class="row-head">Первый тревожный порог</p>
                                    <div class="row-right">
                                        <div class="notify-line">
                                            <label class="chk-wrap">
                                                <input type="checkbox" name="" checked>
                                                <span class="chk-over"></span>
                                                <span class="chk-text">Оповещать о тревоге</span>
                                            </label>
                                            <div class="after">
                                                <span>Через</span>
                                                <input type="number" name="" placeholder="0">
                                                <span>мин.</span>
                                                <input type="number" name="" placeholder="0">
                                                <span>сек.</span>
                                            </div>
                                        </div>
                                        <div class="notify-line">
                                            <label class="chk-wrap">
                                                <input type="checkbox" name="" checked>
                                                <span class="chk-over"></span>
                                                <span class="chk-text">Оповещать о норме</span>
                                            </label>
                                            <div class="after">
                                                <span>Через</span>
                                                <input type="number" name="" placeholder="0">
                                                <span>мин.</span>
                                                <input type="number" name="" placeholder="0">
                                                <span>сек.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="range-row">
                                    <div class="range-filter range-1st">
                                        <div class="range-body">
                                            <input type="text" id="warning-1" name="example_name" value="" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="sensor-row">
                                <div class="row-top">
                                    <p class="row-head">Первый тревожный порог</p>
                                    <div class="row-right">
                                        <div class="notify-line">
                                            <label class="chk-wrap">
                                                <input type="checkbox" name="" checked>
                                                <span class="chk-over"></span>
                                                <span class="chk-text">Оповещать о тревоге</span>
                                            </label>
                                            <div class="after">
                                                <span>Через</span>
                                                <input type="number" name="" value="0">
                                                <span>мин.</span>
                                                <input type="number" name="" value="0">
                                                <span>сек.</span>
                                            </div>
                                        </div>
                                        <div class="notify-line">
                                            <label class="chk-wrap">
                                                <input type="checkbox" name="" checked>
                                                <span class="chk-over"></span>
                                                <span class="chk-text">Оповещать о норме</span>
                                            </label>
                                            <div class="after">
                                                <span>Через</span>
                                                <input type="number" name="" value="0">
                                                <span>мин.</span>
                                                <input type="number" name="" value="0">
                                                <span>сек.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="range-row">
                                    <div class="range-filter range-2nd">
                                        <div class="range-body">
                                            <input type="text" id="warning-2" name="example_name" value="" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="btn-wrap">
                            <button class="btn-blue">Применить</button>
                            <button class="btn-back">Назад</button>
                        </div>
                    </div>
					<div class="graph-wrap area-graph">
                        <p class="graph-head">Сухой склад - приёмка</p>
                        <div id="container" style="height: 400px; width: 100%"></div>
                    </div>
					
				</div>
			</div>
		</div>
	</section>

    <div id="logoutModal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <p class="head">Выход из системы</p>
        <div class="content">
            <p><span class="user">Вячеслав Трощин</span> вы хотите покинуть сервис?</p>
            <div class="btns">
                <button class="approve">Да</button>
                <button class="cancel">Нет</button>
            </div>
        </div>
      </div>

    </div>
	
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="js/jquery.matchHeight-min.js"></script>
<script src="js/selectize.min.js"></script>
<script src="js/jquery.custom-scrollbar.js"></script>
<script src="js/ion.rangeSlider.min.js"></script>
<script src="js/script.js"></script>
<script type="text/javascript">

	$.getJSON('date.json', function (data) {
	Highcharts.setOptions({
        lang: {
            loading: 'Загрузка...',
            months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
            weekdays: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],
            shortMonths: ['Янв', 'Фев', 'Март', 'Апр', 'Май', 'Июнь', 'Июль', 'Авг', 'Сент', 'Окт', 'Нояб', 'Дек'],
            exportButtonTitle: "Экспорт",
            printButtonTitle: "Печать",
            rangeSelectorFrom: "С",
            rangeSelectorTo: "По",
            rangeSelectorZoom: "",
            downloadPNG: 'Скачать PNG',
            downloadJPEG: 'Скачать JPEG',
            downloadPDF: 'Скачать PDF',
            downloadSVG: 'Скачать SVG',
            printChart: 'Напечатать график'
        }
    });
    var chart = new Highcharts.stockChart('container', {

        chart: {
            zoomType: 'x',
        },

        title: {
        	text: null
        },
        subtitle: {
        	text: null
        },
        xAxis: {
            type: 'datetime',
            // tickInterval: 850000000,
            tickLength: 5,
            gridLineWidth: 1,
            gridLineColor: '#4b5279',
            lineColor: '#4b5279',
            tickColor: '#4b5279'
        },
        scrollbar: {
            enabled: false
        },
        navigator: {
            enabled: false
        },
        tooltip: {
            formatter: function() {
                return "<span>" + ((this.y*10).toFixed())/10 + '\u00B0C' + "</span>";
            },
            positioner: function (labelWidth, labelHeight, point) {
                var tooltipX, tooltipY;
                if (point.plotX + labelWidth > chart.plotWidth) {
                    tooltipX = point.plotX + chart.plotLeft - labelWidth + 20;
                } else {
                    tooltipX = point.plotX;
                }
                console.log(tooltipX)
                return { x: tooltipX, y: 60 };
            
            },
            split: false,
            shadow: false,
            backgroundColor: 'transparent',
            crosshairs: [false, false],
            borderColor: 'transparent',
            borderWidth: 0,
            style: {
                color: "#fff",
                fontSize: '48px',
                fontFamily: 'Roboto',
                fontWeight: '100'
                
            },
        },
        rangeSelector: {
             buttonPosition: {
                align: 'left',
                verticalAlign: "top",
            },
             buttonTheme: {
                paddingLeft: 10,
                paddingRight: 10,
                width: null
            },
            style: {
                color: "#fff",
                fontFamily: "Roboto"
            },
            buttons: [ {
                type: 'minute',
                count: 30,
                text: 'За последние'
            },  {
                type: 'hour',
                count: 1,
                text: '1 ч.'
            },  {
                type: 'hour',
                count: 3,
                text: '3 ч.'
            },  {
                type: 'hour',
                count: 6,
                text: '6 ч.'
            },  {
                type: 'day',
                count: 1,
                text: '1 сут.'
            },  {
                type: 'day',
                count: 3,
                text: '3 сут.'
            },  {
                type: 'week',
                count: 1,
                text: '1 нед.'
            },  {
                type: 'month',
                count: 1,
                text: '1 мес.'
            }, {
                type: 'year',
                count: 1,
                text: '1 год'
            }],
            inputEnabled: true, // it supports only days
            selected: 0 // all
        },
        legend: {
            enabled: false
        },
        plotOptions: {
            area: {
                fillColor: {
                    linearGradient: {
	                    x1: 0,
	                    y1: 0,
	                    x2: 0,
	                    y2: 1
	                },
                    stops: [
                        [1, "#262a41"],
                        [0, "#3a3f57"]
                    ],
                },
                marker: {
                    radius: 2
                },
                lineWidth: 3,
                states: {
                    hover: {
                        lineWidth: 3
                    }
                },
                threshold: null
            },
        },
        yAxis: {
        	min: -40,
        	max: 40,
        	title: {
        		text: null
        	},
            opposite: false,
            labels: {
                style: {
                    fontSize: "16px",
                    fontFamily: 'Roboto',
                }
            },
            gridLineWidth: 1,
            gridLineColor: '#4b5279',
        },
        series: [{
            type: 'area',
            // name: 'USD to EUR',
            data: data

        }]
    });


    var t = setInterval(function(){
         if ($(".area-graph .highcharts-container").hasClass("highcharts-container") &&  $(".area-graph .highcharts-axis-labels.highcharts-yaxis-labels text:last-child").attr("x") ==0) {
             clearInterval(t);
             var yTopNum = $(".area-graph .highcharts-axis-labels.highcharts-yaxis-labels text:last-child");
             yTopNum.attr("x", yTopNum.prev().attr("x")).attr("y", "43");
        }
    }, 1000);
});
</script>
</body>
</html>